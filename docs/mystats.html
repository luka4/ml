<!DOCTYPE html>
<html lang="sk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-V448ND6YC6"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-V448ND6YC6');
    </script>
    <title>Ko코ick치 Miniliga - Moje 맚atistiky</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="styles/loader3.css">
    <link rel="stylesheet" href="styles/shared.css">
    <link rel="stylesheet" href="styles/mystats.css">
    <link rel="canonical" href="https://miniliga.online/mystats.html" />
</head>
<body id="page-mystats" class="loading">

<div id="pageLoader">
    <div class="loader">
        <div class="spinner">
            <svg class="raquet" id="r-1">
                <ellipse class="front" cx="44" cy="50" rx="35" ry="50" />
                <ellipse class="middle" cx="42" cy="50" rx="35" ry="50" />
                <ellipse class="back" cx="40" cy="50" rx="35" ry="50" />
                <rect class="handle outer" x="40" y="100" width="10" height="42" />
                <rect class="handle inner" x="38" y="100" width="10" height="41" />
                <rect class="handle outer" x="35" y="100" width="10" height="40" />
                <ellipse class="shadow" id="sor-1" cx="40" cy="50" rx="7" ry="10" />
            </svg>
            <svg class="raquet" id="r-2">
                <ellipse class="back" cx="40" cy="50" rx="35" ry="50" />
                <ellipse class="middle" cx="42" cy="50" rx="35" ry="50" />
                <ellipse class="front" cx="44" cy="50" rx="35" ry="50" />
                <rect class="handle outer" x="35" y="100" width="10" height="42" />
                <rect class="handle inner" x="37" y="100" width="10" height="41" />
                <rect class="handle outer" x="40" y="100" width="10" height="40" />
                <ellipse class="shadow" id="sor-2" cx="44" cy="50" rx="7" ry="10" />
            </svg>
            <div class="ball-container">
                <svg class="ball">
                    <circle cx="20" cy="20" r="12" />
                </svg>
            </div>
            <svg class="shadow">
                <ellipse id="sr-1" cx="70" cy="30" rx="50" ry="15"/>
                <ellipse id="sb" cx="150" cy="30" rx="15" ry="4.5"/>
                <ellipse id="sr-2" cx="230" cy="30" rx="50" ry="15"/>
            </svg>
        </div>
        <div class="loading-text">Na캜칤tava sa</div>
    </div>
</div>

<div id="pageContent">
    <div id="mainNavContainer"></div>

    <div class="container" id="mainContainer">
        <!-- Player Selection Section (shown when no player selected) -->
        <section id="playerSelectSection" class="mystats-card mystats-card--welcome">
            <div class="welcome-icon">游녻</div>
            <h2>Moje 맚atistiky</h2>
            <p class="welcome-text">Vyberte si svoje meno a zobrazte personalizovan칠 코tatistiky, grafy a z치znamy.</p>
            <div class="player-select-form">
                <label for="myPlayerSelect">Va코e meno:</label>
                <input type="text" id="myPlayerSelect" list="myPlayersList" placeholder="Za캜nite p칤sa콘 meno..." autocomplete="off">
                <datalist id="myPlayersList"></datalist>
                <button id="selectPlayerBtn" class="mystats-btn">Zobrazi콘 moje 코tatistiky</button>
            </div>
            <div id="playerSelectStatus" class="status-text"></div>
        </section>

        <!-- Main Stats Section (shown after player selected) -->
        <div id="myStatsContent" style="display: none;">
            <!-- Header with player info -->
            <div class="mystats-header">
                <div class="mystats-header-left">
                    <div class="mystats-avatar" id="myStatsAvatar">?</div>
                    <div class="mystats-header-info">
                        <h1 class="mystats-name" id="myStatsName">-</h1>
                        <div class="mystats-team" id="myStatsTeam">-</div>
                    </div>
                </div>
                <div class="mystats-header-right">
                    <button id="changePlayerBtn" class="mystats-btn mystats-btn--secondary">Zmeni콘 hr치캜a</button>
                </div>
            </div>

            <!-- Core Stats Block -->
            <section class="mystats-card">
                <h3 class="mystats-section-title">游늵 Preh쬬d</h3>
                <div class="core-stats-grid">
                    <div class="core-stat core-stat--primary">
                        <div class="core-stat-value" id="myRating">-</div>
                        <div class="core-stat-label">Aktu치lny Rating</div>
                        <div class="core-stat-rank" id="myRank">#- z -</div>
                    </div>
                    <div class="core-stat core-stat--change">
                        <div class="core-stat-value" id="myRatingChange">-</div>
                        <div class="core-stat-label">Zmena (toto kolo)</div>
                    </div>
                    <div class="core-stat">
                        <div class="core-stat-value" id="myPeakRating">-</div>
                        <div class="core-stat-label">Peak Rating</div>
                        <div class="core-stat-sub" id="myPeakWhen">-</div>
                    </div>
                    <div class="core-stat">
                        <div class="core-stat-value" id="myRecord">-</div>
                        <div class="core-stat-label">Bilancia (V-P)</div>
                    </div>
                    <div class="core-stat core-stat--form">
                        <div class="core-stat-label">Forma (posledn칳ch 5)</div>
                        <div class="core-stat-form" id="myForm">-</div>
                    </div>
                </div>
            </section>

            <!-- Personal Rating Chart -->
            <section class="mystats-card">
                <h3 class="mystats-section-title">游늳 V칳voj Ratingu</h3>
                <div class="chart-container">
                    <canvas id="myRatingChart"></canvas>
                </div>
            </section>

            <!-- Compare Section -->
            <section class="mystats-card">
                <h3 class="mystats-section-title">丘덢잺 Porovnanie</h3>
                <div class="compare-section">
                    <form id="myCompareForm" class="compare-form">
                        <input type="text" id="myCompareInput" list="myCompareList" placeholder="Porovna콘 s hr치캜om..." autocomplete="off">
                        <datalist id="myCompareList"></datalist>
                        <button type="submit" class="mystats-btn">Porovna콘</button>
                        <button type="button" id="myClearCompareBtn" class="mystats-btn mystats-btn--secondary">Vymaza콘</button>
                    </form>
                    <div id="myCompareStatus" class="compare-status"></div>
                    <div id="myCompareResult" class="compare-result" style="display: none;">
                        <div class="compare-h2h">
                            <div class="h2h-title">Vz치jomn칠 z치pasy</div>
                            <div class="h2h-score" id="myH2HScore">- : -</div>
                        </div>
                        <div class="compare-matches-list" id="myCompareMatches"></div>
                    </div>
                </div>
            </section>

            <!-- Derived Stats / Radar Chart -->
            <section class="mystats-card">
                <h3 class="mystats-section-title">游꿢 Hern칳 Profil</h3>
                <div class="derived-stats-container">
                    <div class="derived-stats-list" id="myDerivedStatsList"></div>
                    <div class="derived-stats-chart">
                        <canvas id="myRadarChart"></canvas>
                    </div>
                </div>
            </section>

            <!-- Records & Achievements -->
            <section class="mystats-card">
                <h3 class="mystats-section-title">游끥 Rekordy a 칔spechy</h3>
                <div class="records-grid">
                    <div class="record-card record-card--best">
                        <div class="record-icon">游볞</div>
                        <div class="record-title">Najlep코ia V칳hra</div>
                        <div class="record-value" id="myBestWin">-</div>
                        <div class="record-sub" id="myBestWinRating">-</div>
                    </div>
                    <div class="record-card record-card--upset">
                        <div class="record-icon">游눤</div>
                        <div class="record-title">Najv칛캜코칤 Upset</div>
                        <div class="record-value" id="myBiggestUpset">-</div>
                        <div class="record-sub" id="myBiggestUpsetDiff">-</div>
                    </div>
                    <div class="record-card record-card--streak">
                        <div class="record-icon">游댠</div>
                        <div class="record-title">Najdlh코ia S칠ria V칳hier</div>
                        <div class="record-value" id="myLongestStreak">-</div>
                        <div class="record-sub" id="myCurrentStreak">-</div>
                    </div>
                </div>
            </section>

            <!-- Upcoming Section -->
            <section class="mystats-card">
                <h3 class="mystats-section-title">游늰 Nadch치dzaj칰ce</h3>
                <div id="myUpcomingSection">
                    <div id="myNextMatch" class="next-match-card">
                        <div class="next-match-title">Najbli쮄뫆 z치pas t칤mu</div>
                        <div class="next-match-details" id="myNextMatchDetails">
                            <span class="no-match">콯iadny pl치novan칳 z치pas</span>
                        </div>
                    </div>
                </div>

                <!-- Match Simulator Preview -->
                <div class="whatif-preview">
                    <h3 class="whatif-preview-title">游꿢 Predikcia & Simul치tor</h3>
                    <p class="whatif-preview-desc">Zobrazte pravdepodobnos콘 v칳sledkov aj simul치ciu zmeny ratingu.</p>
                    
                    <div class="whatif-opponent-select">
                        <label for="myWhatIfOpponent">Vyberte s칰pera:</label>
                        <input type="text" id="myWhatIfOpponent" list="myWhatIfList" placeholder="Meno s칰pera..." autocomplete="off">
                        <datalist id="myWhatIfList"></datalist>
                        <button id="myWhatIfBtn" class="mystats-btn">Analyzova콘</button>
                    </div>
                    
                    <div id="myWhatIfResult" class="whatif-result" style="display: none;">
                        <!-- Player Info Cards -->
                        <div class="sim-players-mini">
                            <div class="sim-player-mini sim-player-mini--a">
                                <div class="sim-player-name-mini" id="myWhatIfYou">Vy</div>
                                <div class="sim-player-rating-mini">Rating: <span id="myWhatIfRatingA">-</span></div>
                                <div class="sim-player-kfactor-mini">K-faktor: <span id="myWhatIfKFactorA">-</span></div>
                            </div>
                            <div class="sim-vs-mini">VS</div>
                            <div class="sim-player-mini sim-player-mini--b">
                                <div class="sim-player-name-mini" id="myWhatIfOpp">S칰per</div>
                                <div class="sim-player-rating-mini">Rating: <span id="myWhatIfRatingB">-</span></div>
                                <div class="sim-player-kfactor-mini">K-faktor: <span id="myWhatIfKFactorB">-</span></div>
                            </div>
                        </div>
                        
                        <!-- Prediction probabilities -->
                        <div class="sim-section-mini">
                            <div class="sim-section-title-mini">游늵 Pravdepodobnos콘 v칳sledkov</div>
                            <div class="score-list score-list--mini" id="myPredictionScoreList"></div>
                        </div>
                        
                        <!-- Rating simulation -->
                        <div class="sim-section-mini">
                            <div class="sim-section-title-mini">游꿢 Simul치cia zmeny ratingu</div>
                            <div class="whatif-grid-mini" id="myWhatIfGrid"></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Match History (Recent) -->
            <section class="mystats-card">
                <h3 class="mystats-section-title">游닆 Posledn칠 Z치pasy</h3>
                <div id="myRecentMatches"></div>
            </section>
        </div>
    </div>

    <footer class="site-footer">
        <div class="footer-container">
            <div class="footer-section">
                <h3 class="footer-title">Ko코ick치 Miniliga</h3>
                <p class="footer-description">V칳sledky, tabu쬶y a ratingy hr치캜ov pre Ko코ick칰 stolnotenisov칰 Miniligu. Nez치visl칳 projekt.</p>
            </div>
            <div class="footer-section">
                <h4 class="footer-heading">Navig치cia</h4>
                <nav class="footer-nav">
                    <a href="index.html" class="footer-link">Domov</a>
                    <a href="results.html" class="footer-link">V칳sledky</a>
                    <a href="rating.html" class="footer-link">Rating</a>
                    <a href="table.html" class="footer-link">Tabu쬶a</a>
                    <a href="prediction.html" class="footer-link">Predikcie</a>
                    <a href="admin.html" class="footer-link" id="adminLink" style="display: none;">Admin</a>
                </nav>
            </div>
            <div class="footer-section">
                <h4 class="footer-heading">O str치nke</h4>
                <p class="footer-text">Stoln칳 tenis v Ko코iciach</p>
                <p class="footer-text">Syst칠m ratingov zalo쬰n칳 na ELO</p>
                <p class="footer-text">Kontakty: <a href="mailto:info@miniliga.online">info@miniliga.online</a></p>
            </div>
        </div>
        <div class="footer-bottom">
            <p class="footer-copyright">&copy; <span id="currentYear"></span> miniliga.online. Nez치visl칳 projekt pre zobrazenie v칳sledkov Ko코ickej Miniligy.</p>
        </div>
    </footer>
</div>

<script src="googleSheetsLoader.js?v=2"></script>
<script src="matchData.js?v=7"></script>
<script src="script.js?v=10"></script>
<script>
    // Show admin link only for Dmytro LUKACHUK
    (function() {
        function checkAndShowAdminLink() {
            const adminLink = document.getElementById('adminLink');
            if (!adminLink) return;
            
            const selectedPlayer = localStorage.getItem('mystats_player_name');
            if (selectedPlayer === 'Dmytro LUKACHUK') {
                adminLink.style.display = '';
            } else {
                adminLink.style.display = 'none';
            }
        }
        
        // Check on page load
        checkAndShowAdminLink();
        
        // Also listen for storage changes (in case player is selected on this page)
        window.addEventListener('storage', checkAndShowAdminLink);
        
        // Check periodically in case player is selected without page reload
        setInterval(checkAndShowAdminLink, 1000);
    })();
</script>
</body>
</html>

